CREATE TABLE country (
    country_id    INT PRIMARY KEY,
    country       VARCHAR(100) NOT NULL

);


CREATE TABLE city (
    city_id     INT PRIMARY KEY,
    city        VARCHAR(100) NOT NULL,
    country_id  INT NOT NULL,
    CONSTRAINT fk_city_country
        FOREIGN KEY (country_id) REFERENCES country(country_id)
);


CREATE TABLE customer (
    customer_id    INT PRIMARY KEY,
    customer_name  VARCHAR(150) NOT NULL,
    city_id        INT NOT NULL,
    CONSTRAINT fk_customer_city
        FOREIGN KEY (city_id) REFERENCES city(city_id)
);


INSERT INTO country (country_id, country) VALUES
    (1, 'Germany'),
    (2, 'Croatia'),
    (3, 'United States'),
    (4, 'Spain'),
    (5, 'Russia');


INSERT INTO city (city_id, city, country_id) VALUES
    (101, 'Berlin', 1),          -- Germany
    (102, 'Zagreb', 2),          -- Croatia
    (103, 'New York', 3);        -- United States


INSERT INTO customer (customer_id, customer_name, city_id) VALUES
    (1001, 'Alice Schmidt', 101),   -- Berlin
    (1002, 'Bruno Keller', 101),    -- Berlin
    (1003, 'Ivana Horvat', 102),    -- Zagreb
    (1004, 'John Carter', 103),     -- New York
    (1005, 'Maria Lopez', 103);     -- New York


Task 1)

SELECT
    co.country        AS country_name,
    ci.city           AS city_name,
    cu.customer_name  AS customer_name
FROM country AS co
LEFT JOIN city     AS ci ON ci.country_id = co.country_id
LEFT JOIN customer AS cu ON cu.city_id     = ci.city_id
ORDER BY
    co.country,
    ci.city,
    cu.customer_name;


Task 2)

SELECT
    co.country        AS country_name,
    ci.city           AS city_name,
    cu.customer_name  AS customer_name
FROM country AS co
INNER JOIN city     AS ci ON ci.country_id = co.country_id
LEFT JOIN  customer AS cu ON cu.city_id     = ci.city_id
ORDER BY
    co.country,
    ci.city,
    cu.customer_name;


